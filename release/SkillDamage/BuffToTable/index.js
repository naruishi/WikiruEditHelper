"use strict";var c=class{constructor(t){this.selfAttackBuff=0;this.selfSkillBuff=0;this.partyAttackBuff=0;this.partySkillBuff=0;this.totalAttackBuff=0;this.totalSkillBuff=0;this.theoreticalSelfAttackBuff=0;this.theoreticalPartyAttackBuff=0;this.totalTheoreticalAttackBuff=0;Object.assign(this,t)}reset(){this.selfAttackBuff=0,this.selfSkillBuff=0,this.partyAttackBuff=0,this.partySkillBuff=0,this.totalAttackBuff=0,this.totalSkillBuff=0,this.theoreticalSelfAttackBuff=0,this.theoreticalPartyAttackBuff=0,this.totalTheoreticalAttackBuff=0}updateTotals(){this.totalAttackBuff=this.selfAttackBuff+this.partyAttackBuff,this.totalSkillBuff=this.selfSkillBuff+this.partySkillBuff,this.totalTheoreticalAttackBuff=this.totalAttackBuff+this.theoreticalSelfAttackBuff+this.theoreticalPartyAttackBuff}output(){let t=this.selfAttackBuff+"|"+this.selfSkillBuff+"|"+this.partyAttackBuff+"|"+this.partySkillBuff+"|"+this.totalAttackBuff+"|"+this.totalSkillBuff+"|"+this.theoreticalSelfAttackBuff+"|"+this.theoreticalPartyAttackBuff+"|"+this.totalTheoreticalAttackBuff+"|";return console.log("output:"+t),t}},a=class{constructor(t){this.probability="";this.turn="";this.target="";this.element="";this.unit="";this.member="";this.connectBandC="";this.status="";this.connectStatusAndAmount="";this.amount="";this.percent="";this.action="";this.planeText="";this.planeText=t[0],this.probability=t.groups?.probability||"",this.turn=t.groups?.turn||"",this.target=t.groups?.target||"",this.element=t.groups?.element||"",this.unit=t.groups?.unit||"",this.member=t.groups?.number||"",this.connectBandC=t.groups?.connectBandC||"",this.status=t.groups?.status||"",this.connectStatusAndAmount=t.groups?.connectStatusAndAmount||"",this.amount=t.groups?.amount||"",this.percent=t.groups?.percent||"",this.action=t.groups?.action||""}getPlaneText(){return console.log("getPlaneText:"+this.planeText),this.planeText}};function m(n){let t=n.split(`
`),e="~\u81EA\u8EAB\u653B\u6483\u30D0\u30D5|~\u81EA\u8EAB\u5A01\u529B\u30D0\u30D5|~\u30D1\u653B\u6483\u30D0\u30D5|~\u30D1\u5A01\u529B\u30D0\u30D5|~\u81EA+\u30D1\u653B\u6483\u30D0\u30D5|~\u81EA+\u30D1\u5A01\u529B\u30D0\u30D5|~\u7406\u8AD6\u4E0A\u81EA\u8EAB\u653B\u6483\u6700\u5927\u30D0\u30D5|~\u7406\u8AD6\u4E0A\u30D1\u653B\u6483\u6700\u5927\u30D0\u30D5|~\u653B\u6483\u30D0\u30D5\u5408\u8A08|"+`
`,s=new RegExp(A(),"g");return t.forEach(l=>{let r,f=new c,B=p(l);for(;(r=s.exec(l))!==null;){let o=new a(r);k(f,o,B)}if([...l.matchAll(/sortabletable|mistyrose|~画像|}}|^$/g)].length==0){let o=f.output();e+=o+`
`}}),e}function p(n){let t=n.split("|"),u=[];if(t.length>1){let e=t[3].match(/(火|水|風|雷|光|闇)/g);e&&u.push(...e)}return console.log("unitElement:"+[...u]),u}var i={probability:"(?<probability>(\u78BA\u7387\u3067[0-9]+\u30BF\u30FC\u30F3|[0-9]+\u30BF\u30FC\u30F3\u78BA\u7387\u3067|\u9AD8\u78BA\u7387\u3067|))?",turn:"(?<turn>([0-9]+\u30BF\u30FC\u30F3))?(?:&br;)?",target:"(?<target>(?:\u6575\u5473\u65B9|\u5473\u65B9|\u81EA\u8EAB\u4EE5\u5916\u306E\u5473\u65B9|\u81EA\u8EAB\u4EE5\u5916\u306E|\u81EA\u8EAB\u3092\u9664\u304F\u5473\u65B9|\u81EA\u8EAB\u3092\u9664\u304F|\u81EA\u8EAB|\u6575|\u6575\u5168\u4F53\u3068\u81EA\u8EAB\u4EE5\u5916\u306E\u5473\u65B9|\u30B5\u30DD\u30FC\u30C8\u306E|PT\u5185\u306E))?",element:"(?<element>(?:(?:\u5473\u65B9)?(\u706B|\u6C34|\u98A8|\u96F7|\u5149|\u95C7|\u5168)(\u5C5E\u6027|\u5C5E\u6027\u6570|\u5C5E\u6027\u4EE5\u5916\u306E\u5C5E\u6027)(\u5168\u4F53)?(?:\u3068|\u30FB)?)+)?",unit:"(?<unit>\u30E1\u30A4\u30F3\u30E6\u30CB\u30C3\u30C8|\u30E6\u30CB\u30C3\u30C8)?",member:"(?<number>(\u5168\u4F53|[1-5]\u4F53|\u5358\u4F53|[1-5]\uFF5E[1-5]\u4F53|\u30E1\u30A4\u30F3\u30E6\u30CB\u30C3\u30C8[1-5]\u4F53|[1-6]\u7A2E))?",connectBandC:"(?<connectBandC>\u306F\u3055\u3089\u306B|\u306E|\u306B\u3064\u304D|\u3078\u306E|\u306EHP\u5272\u5408\u304C\u9AD8\u3044\u307B\u3069|(\u306B)?(\u81EA\u8EAB)?(\u306E)?HP\u304C\u5C11\u306A\u304F\u306A\u308B\u307B\u3069(\u81EA\u8EAB\u306E)?)?",status:"(?<status>(?:(?:\u653B\u6483\u529B|\u30B9\u30AD\u30EB\u5A01\u529B|\u9632\u5FA1(\u529B)?|\u72B6\u614B\u7570\u5E38\u8010\u6027|\u30B9\u30AD\u30EB\u30B2\u30FC\u30B8\u4E0A\u6607\u91CF|\u30B9\u30AD\u30EB\u30B2\u30FC\u30B8\u5897\u52A0\u91CF|\u30B9\u30AD\u30EB\u30B2\u30FC\u30B8|HP\u56DE\u5FA9\u91CF|HP|\u56DE\u5FA9\u91CF|\u56DE\u5FA9\u529B|\u72D9\u308F\u308C\u7387|\u72B6\u614B\u7570\u5E38\u4ED8\u4E0E\u7387|\u30AF\u30EA\u30C6\u30A3\u30AB\u30EB(\u767A\u751F)?\u7387|(\u88AB)?\u30C0\u30E1\u30FC\u30B8)(?:\u3068|\u30FB)?)+)",connectStatusAndAmount:"(?<connectStatusAndAmount>(\u3092)?(\u3055\u3089\u306B)?)",amount:"(?<amount>[0-9]+|\u5FAE\u91CF|\u6700\u5927[0-9]+)(?<percent>%(\u307E\u3067)?)?(?<action>UP|DOWN|\u30AB\u30C3\u30C8|\u56DE\u5FA9|\u81EA\u52D5\u56DE\u5FA9|\u5897\u52A0|\u6E1B\u5C11)?"};function A(){return`${i.probability}${i.turn}${i.target}${i.element}${i.unit}${i.member}${i.connectBandC}${i.status}${i.connectStatusAndAmount}${i.amount}`}function k(n,t,u){let e=t.getPlaneText();if(console.log("parsedText.element:"+t.element),!(t.element!==""&&!u.some(s=>t.element.includes(s)))){if(t.connectBandC.includes("HP\u5272\u5408\u304C\u9AD8\u3044\u307B\u3069")&&t.status.includes("\u653B\u6483\u529B")){let s=t.amount.replace("\u6700\u5927","");n.theoreticalSelfAttackBuff+=parseInt(s)||0}else if(t.connectBandC.includes("HP\u304C\u5C11\u306A\u304F\u306A\u308B\u307B\u3069")&&t.status.includes("\u653B\u6483\u529B")&&e.includes("\u5473\u65B9")&&t.element.includes("\u5C5E\u6027")){let s=t.amount.replace("\u6700\u5927","");n.theoreticalPartyAttackBuff+=parseInt(s)||0}else if(t.connectBandC.includes("HP\u304C\u5C11\u306A\u304F\u306A\u308B\u307B\u3069")&&t.status.includes("\u653B\u6483\u529B")&&e.includes("\u5473\u65B9\u5168\u4F53")){let s=t.amount.replace("\u6700\u5927","");n.theoreticalPartyAttackBuff+=parseInt(s)||0}else if(t.connectBandC.includes("HP\u304C\u5C11\u306A\u304F\u306A\u308B\u307B\u3069")&&t.status.includes("\u653B\u6483\u529B")&&e.includes("\u81EA\u8EAB")){let s=t.amount.replace("\u6700\u5927","");n.theoreticalSelfAttackBuff+=parseInt(s)||0}else t.status.includes("\u653B\u6483\u529B")&&t.target.includes("\u81EA\u8EAB")?n.selfAttackBuff+=parseInt(t.amount)||0:t.status.includes("\u30B9\u30AD\u30EB\u5A01\u529B")&&t.target.includes("\u81EA\u8EAB")?n.selfSkillBuff+=parseInt(t.amount)||0:t.status.includes("\u653B\u6483\u529B")&&e.includes("\u5473\u65B9\u5168\u4F53")?n.partyAttackBuff+=parseInt(t.amount)||0:t.status.includes("\u30B9\u30AD\u30EB\u5A01\u529B")&&e.includes("\u5473\u65B9\u5168\u4F53")?n.partySkillBuff+=parseInt(t.amount)||0:t.status.includes("\u653B\u6483\u529B")&&t.element.includes("\u5C5E\u6027")?n.partyAttackBuff+=parseInt(t.amount)||0:t.status.includes("\u30B9\u30AD\u30EB\u5A01\u529B")&&t.element.includes("\u5C5E\u6027")&&(n.partySkillBuff+=parseInt(t.amount)||0);n.updateTotals()}}var h=document.getElementById("inputText");if(!h)throw new Error("textarea with ID 'inputText' not found.");var g=document.getElementById("outputText");if(!g)throw new Error("textarea with ID 'outputText' not found.");document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById("execute");n&&n.addEventListener("click",d)});function d(){let n=h.value;g.value=m(n)}
//# sourceMappingURL=index.js.map