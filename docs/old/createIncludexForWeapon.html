<!DOCTYPE html>
<html>
  <head>
    <title>とのフラ includex生成 装備条件</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body>
    <h1>とのフラの装備名からwikiの装備条件項目を生成。</h1>
    <textarea
      id="inputBox"
      placeholder="装備名をペーストすることで、以下のテンプレートを生成します。
**装備名
#region(開く)
#includex(テーブル/SSR装備,section=(filter=SSR装備テーブル),filter=\|h$|\|c$|装備名,titlestr=off)
#includex(テーブル/スキル・アビリティ/SSR,filter=^#sort|\|h$|\|f$|\|c$|装備名装備|^}},titlestr=off)
#endregion`"
    ></textarea>
    <br />
    <button id="generate">生成</button>
    <br />
    <textarea
      id="outputBox"
      placeholder="置換結果がここに表示されます"
    ></textarea>

    <script>
      document
        .getElementById("generate")
        .addEventListener("click", function () {
          // 元のテキストボックスの内容を取得
          const inputText = document.getElementById("inputBox").value;

          // 各行を分割
          const lines = inputText.split("\n");

          // テンプレート
          const template = `
**{input}
#region(開く)
#includex(テーブル/SSR装備,section=(filter=SSR装備テーブル),filter=\\|h$|\\|c$|{input},titlestr=off)
#includex(テーブル/スキル・アビリティ/SSR,filter=^#sort|\\|h$|\\|f$|\\|c$|{input}装備|^}},titlestr=off)
#endregion`;

          // 結果を格納する変数
          let output = "";

          // 各行をテンプレートに置換して結果を生成
          lines.forEach((line) => {
            const replaced = template.replace(/\{input\}/g, line);
            output += replaced + "\n";
          });

          // 出力をテキストボックスに表示
          document.getElementById("outputBox").value = output.trim();
        });
    </script>
  </body>
</html>
